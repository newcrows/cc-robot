---- LOCAL FUNCTIONS ----
# api/robot/init_core.lua
local function remove(t, value)
local function checkRequire()
local function blocking()
local function tick()

# api/robot/init_equipment.lua
local function eventConstructor(detail)
local function getEquippedSide(itemName)
local function getEmptySide()
local function getEquippedProxy(side)
local function softWrap(side, proxy)
local function requireItemToEquip(itemName)
local function check()
local function get()
local function equipAndSoftWrap(side, proxy)
local function requireSpaceToUnequip(itemName)
local function check()
local function get()
local function createProxy(itemName, pinned)
local function check()
local function get()

# api/robot/init_inventory.lua
local function reduce(list, reduceFunc, initialValue)
local function getStackSize(itemName)
local function getFallbackSpace(itemName)
local function addInventory(invName)
local function syncInventories()
local function transferAvailable(itemName, fromInvName, toInvName, count)
local function split(str, sep)
local function updateItemLimit(query, delta)
local function check()
local function get()
local function constructor(detail)
local function check()
local function get()
local function constructor(detail)

# api/robot/init_misc.lua
local function physicalCountAll()
local function countEmptySlots()
local function placeHelper(placeFunc, query, blocking)
local function check()
local function tick()
local function dropHelper_0(dropFunc, query, remaining)
local function check()
local function tick()
local function dropHelper(dropFunc, query, count, blocking)
local function check()
local function tick()
local function compareHelper(inspectFunc, query)
local function suckHelper_0(suckFunc, query, remaining)
local function check()
local function tick()
local function suckHelper(suckFunc, query, count, blocking)
local function check()
local function tick()

# api/robot/init_peripherals.lua
local function loadCustomPeripherals()
local function getNameFor(side)
local function getPositionFor(side)
local function getKeyFor(x, y, z)
local function getSideFor(facing)
local function softWrap(key, proxy)
local function check()
local function get()
local function constructor(detail)
local function createProxy(x, y, z, name)
local function wrapHelper(x, y, z, wrapAs)
local function unwrapHelper(x, y, z)
local function getValues(table)

# api/robot/init_positioning.lua
local function face(facing)
local function moveHelper(moveFunc, delta, count, blocking)
local function check()
local function tick()
local function turnHelper(turnFunc, direction, count)
local function refuel(query, availableCount)
local function refuelTo(requiredLevel)
local function clamp(val)
local function moveX(targetFacing, dx, callback)
local function moveY(targetFacing, dy, callback)
local function moveZ(targetFacing, dz, callback)
local function moveInOrder(order, blocking)
local function getKeys(table)
local function getStackSize(itemName)
local function check()
local function get()
local function constructor(detail)
local function check()
local function get()
local function constructor(detail)

# api/task/init.lua
local function writeConfigFile(name, opts)
local function readConfigFile()
local function removeConfigFile()
local function processRequirements(req)
local function runProtected(_task, opts, ctrl)

---- META FUNCTIONS ----
# api/robot/init_core.lua
meta.addEventListener(name, callback)
meta.removeEventListener(name, callback)
meta.createEvent(name, detail)
meta.dispatchEvent(event)
meta.on(name, callback)
meta.try(check, tick, blocking)
meta.require(check, get, constructor)

# api/robot/init_equipment.lua
meta.requireEquipment(itemName)

# api/robot/init_inventory.lua
meta.parseQuery(query)
meta.requireItemCount(query, count)
meta.requireItemSpace(query, space)
meta.getFirstSlot(query)
meta.getFirstEmptySlot(query)
meta.selectFirstSlot(query)
meta.selectFirstEmptySlot(query)
meta.updateItemCount(query, delta)
meta.reserve(query, delta)
meta.free(query, delta)

# api/robot/init_peripherals.lua
meta.getCustomPeripheralDetail(query)
meta.listCustomPeripherals()
meta.softUnwrap(side)
meta.softUnwrapAll()

# api/robot/init_positioning.lua
meta.requireFuelLevel(requiredLevel)

---- API FUNCTIONS ----
# api/robot/init_equipment.lua
robot.equip(query, pinned)
robot.unequip(query)
robot.onEquipmentWarning(callback)
robot.onEquipmentWarningCleared(callback)

# api/robot/init_inventory.lua
robot.select(query)
robot.getSelectedQuery()
robot.getItemDetail(query)
robot.getItemCount(query)
robot.getItemSpace(query)
robot.listItems(query)
robot.onItemCountWarning(callback)
robot.onItemCountWarningCleared(callback)
robot.onItemSpaceWarning(callback)
robot.onItemSpaceWarningCleared(callback)

# api/robot/init_misc.lua
robot.place(query, blocking)
robot.placeUp(query, blocking)
robot.placeDown(query, blocking)
robot.drop(query, count, blocking)
robot.dropUp(query, count, blocking)
robot.dropDown(query, count, blocking)
robot.detect()
robot.detectUp()
robot.detectDown()
robot.compare(query)
robot.compareUp(query)
robot.compareDown(query)
robot.suck(query, count, blocking)
robot.suckUp(query, count, blocking)
robot.suckDown(query, count, blocking)
robot.inspect()
robot.inspectUp()
robot.inspectDown()

# api/robot/init_peripherals.lua
robot.wrap(x, y, z, wrapAs)
robot.wrapUp(wrapAs)
robot.wrapDown(wrapAs)
robot.unwrap(x, y, z)
robot.unwrapUp()
robot.unwrapDown()
robot.getPeripheralDetail(x, y, z)
robot.listPeripherals()
robot.onPeripheralWarning(callback)
robot.onPeripheralWarningCleared(callback)

# api/robot/init_positioning.lua
robot.forward(count, blocking)
robot.back(count, blocking)
robot.up(count, blocking)
robot.down(count, blocking)
robot.turnRight(count)
robot.turnLeft(count)
robot.moveTo(x, y, z, facing)
robot.setFuel(which, reserveCount)
robot.getFuelLevel()
robot.getFuelLimit()
robot.onFuelLevelWarning(callback)
robot.onFuelLevelWarningCleared(callback)
robot.onPathWarning(callback)
robot.onPathWarningCleared(callback)

# api/task/init.lua
task.run(name, opts)
task.resume()

